<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Template email : Assignation questionnaire positionnement -->
        <record id="mail_template_placement_assignment" model="mail.template">
            <field name="name">Assignation questionnaire positionnement</field>
            <field name="model_id" ref="model_lms_objectives_placement_assessment"/>
            <field name="email_from">${object.create_uid.email or ''}</field>
            <field name="email_to">${object.partner_id.email or ''}</field>
            <field name="subject">Questionnaire de positionnement - ${object.channel_id.name}</field>
            <field name="body_html"><![CDATA[
                <p>Bonjour ${object.partner_id.name},</p>

                <p>Dans le cadre de votre inscription à la formation <strong>${object.channel_id.name}</strong>,
                nous vous invitons à compléter un questionnaire de positionnement.</p>

                <div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-left: 4px solid #007bff;">
                    <h4 style="margin-top: 0;">Informations importantes :</h4>
                    <p><strong>Date limite :</strong> ${object.deadline_date or 'Non spécifiée'}</p>
                    <p><strong>Durée estimée :</strong> 10-15 minutes</p>
                </div>

                <p>Ce questionnaire nous permettra de :</p>
                <ul>
                    <li>Évaluer votre niveau actuel</li>
                    <li>Adapter le contenu de la formation à vos besoins</li>
                    <li>Vous proposer un plan de formation individualisé</li>
                </ul>

                <p>
                    <a href="${object.survey_url or '#'}"
                       style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
                        Accéder au questionnaire
                    </a>
                </p>

                <p>Nous vous remercions de votre collaboration.</p>

                <p>Cordialement,<br/>L'équipe pédagogique</p>
            ]]></field>
        </record>

        <!-- Template email : Rappel questionnaire -->
        <record id="mail_template_placement_reminder" model="mail.template">
            <field name="name">Rappel questionnaire positionnement</field>
            <field name="model_id" ref="model_lms_objectives_placement_assessment"/>
            <field name="email_from">${object.create_uid.email or ''}</field>
            <field name="email_to">${object.partner_id.email or ''}</field>
            <field name="subject">[RAPPEL] Questionnaire de positionnement - ${object.channel_id.name}</field>
            <field name="body_html"><![CDATA[
                <p>Bonjour ${object.partner_id.name},</p>

                <p>Ceci est un rappel concernant le questionnaire de positionnement pour la formation
                <strong>${object.channel_id.name}</strong>.</p>

                <div style="background-color: #fff3cd; padding: 15px; margin: 15px 0; border-left: 4px solid #ffc107;">
                    <h4 style="margin-top: 0; color: #856404;">À compléter avant le ${object.deadline_date or 'bientôt'}</h4>
                </div>

                <p>
                    <a href="${object.survey_url or '#'}"
                       style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
                        Accéder au questionnaire
                    </a>
                </p>

                <p>Cordialement,<br/>L'équipe pédagogique</p>
            ]]></field>
        </record>

        <!-- Template email : Résultats positionnement -->
        <record id="mail_template_placement_results" model="mail.template">
            <field name="name">Résultats positionnement</field>
            <field name="model_id" ref="model_lms_objectives_placement_assessment"/>
            <field name="email_from">${object.create_uid.email or ''}</field>
            <field name="email_to">${object.partner_id.email or ''}</field>
            <field name="subject">Résultats de votre positionnement - ${object.channel_id.name}</field>
            <field name="body_html"><![CDATA[
                <p>Bonjour ${object.partner_id.name},</p>

                <p>Nous avons analysé vos résultats au questionnaire de positionnement pour la formation
                <strong>${object.channel_id.name}</strong>.</p>

                <div style="background-color: #e8f4fd; padding: 15px; margin: 15px 0; border-left: 4px solid #17a2b8;">
                    <h4 style="margin-top: 0;">Vos résultats :</h4>
                    <p><strong>Score :</strong> ${object.score or 0}%</p>
                    <p><strong>Niveau détecté :</strong> ${object.level or 'Non défini'}</p>
                    <p><strong>Recommandations :</strong></p>
                    <p>${object.recommendations or 'Aucune recommandation spécifique.'}</p>
                </div>

                <p>Ces résultats nous permettront d'adapter le contenu de la formation à votre profil.</p>

                <p>Cordialement,<br/>L'équipe pédagogique</p>
            ]]></field>
        </record>

    </data>
</odoo>