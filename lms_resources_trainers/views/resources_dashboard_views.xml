<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Vue pour le tableau de bord -->
        <record id="view_resources_dashboard_form" model="ir.ui.view">
            <field name="name">lms_resources_trainers.dashboard.form</field>
            <field name="model">lms_resources_trainers.dashboard</field>
            <field name="arch" type="xml">
                <form string="Tableau de bord Ressources &amp; Formateurs">
                    <sheet>
                        <div class="oe_title">
                            <h1>Tableau de bord</h1>
                        </div>

                        <div class="row">
                            <!-- KPI Formateurs -->
                            <div class="col-md-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Formateurs</h5>
                                        <h3>
                                            <field name="active_trainers"/>
                                            <small class="text-muted">actifs</small>
                                        </h3>
                                        <!-- Utilisez le widget progressbar d'Odoo -->
                                        <field name="trainers_percentage" widget="progressbar"/>
                                    </div>
                                </div>
                            </div>

                            <!-- KPI Ressources -->
                            <div class="col-md-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Ressources</h5>
                                        <h3>
                                            <field name="available_resources"/>
                                            <small class="text-muted">disponibles</small>
                                        </h3>
                                        <field name="resources_utilization" widget="progressbar"/>
                                    </div>
                                </div>
                            </div>

                            <!-- KPI Réservations -->
                            <div class="col-md-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Réservations</h5>
                                        <h3>
                                            <field name="monthly_bookings"/>
                                            <small class="text-muted">ce mois</small>
                                        </h3>
                                        <small>
                                            <field name="bookings_growth" widget="percentage"/>
                                            de croissance
                                        </small>
                                    </div>
                                </div>
                            </div>

                            <!-- KPI Évaluations -->
                            <div class="col-md-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Évaluations</h5>
                                        <h3>
                                            <field name="completed_evaluations"/>
                                            <small class="text-muted">complétées</small>
                                        </h3>
                                        <h4>
                                            <field name="average_material_score"/>
                                            <small class="text-muted">/5.0</small>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section informations -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <div class="alert alert-info" role="status" aria-live="polite" aria-atomic="true">
                                    <h4 class="alert-heading">Statistiques en temps réel</h4>
                                    <p>Les données sont mises à jour automatiquement.</p>
                                </div>
                            </div>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</odoo>